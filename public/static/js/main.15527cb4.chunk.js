(this["webpackJsonptravel-agent-front"]=this["webpackJsonptravel-agent-front"]||[]).push([[0],{37:function(e,a,t){e.exports=t(67)},42:function(e,a,t){},44:function(e,a,t){},67:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(33),c=t.n(r),s=(t(42),t(15)),i=t.n(s),m=(t(43),t(34)),u=t.n(m),o=t(3),d=t(4),h=t(16),p=t(5),v=t(6),g=(t(44),t(2)),k=t(7),E=t(8),f=t(9),b=t(1),N=t.n(b),y="https://alambic.herokuapp.com/api";N.a.defaults.withCredentials=!0;var C=function(e){return N.a.post("".concat(y,"/login"),e)},x=function(e){return N.a.post("".concat(y,"/signup"),e)},w=function(){return N.a.post("".concat(y,"/logout"))},O=Object(n.createContext)(),j=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"check",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top-right";i.a.notification({message:"<span uk-icon='icon: ".concat(t,"'></span> ").concat(e),status:a,pos:n})},_=function(e){Object(v.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={user:{}},e.handleChange=function(a){var t=e.state.user;t=Object(E.a)({},t,Object(k.a)({},a.target.name,a.target.value)),e.setState({user:t})},e.handleSubmit=function(a){a.preventDefault(),console.log(e.props);var t="/login"===e.props.location.pathname,n=e.context.setUser,l=e.state.user,r=t?C:x,c=e.props.history,s=t?"/":"/login";r(l).then((function(e){if(t){var a=e.data.user;localStorage.setItem("user",JSON.stringify(a)),n(a)}c.push(s)})).catch((function(e){console.log(e),j(e.response.data.msg,"danger","close")}))},e}return Object(d.a)(t,[{key:"render",value:function(){var e="/login"===this.props.location.pathname;return l.a.createElement("section",{className:"uk-section"},l.a.createElement("div",{className:"uk-container uk-flex uk-flex-center"},l.a.createElement("div",{className:"uk-width-1-4"},l.a.createElement("h3",null,e?"Login":"Signup"),l.a.createElement("form",{onSubmit:this.handleSubmit,className:"uk-width-1-1 uk-form-stacked uk-flex uk-flex-center uk-flex-column"},e?null:l.a.createElement("div",null,l.a.createElement("div",{className:"uk-margin"},l.a.createElement("label",{className:"uk-form-label",htmlFor:"name"},"Name:"),l.a.createElement("div",{className:"uk-inline"},l.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: user"}),l.a.createElement("input",{onChange:this.handleChange,id:"name",name:"name",className:"uk-input",type:"text",required:!0}))),l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label",htmlFor:"last_name"},"Last name:"),l.a.createElement("div",{className:"uk-inline"},l.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: user"}),l.a.createElement("input",{onChange:this.handleChange,id:"last_name",name:"last_name",className:"uk-input",type:"text",required:!0})))),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("label",{className:"uk-form-label",htmlFor:"email"},"Email:"),l.a.createElement("div",{className:"uk-inline"},l.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: mail"}),l.a.createElement("input",{onChange:this.handleChange,id:"email",name:"email",className:"uk-input",type:"email",required:!0})),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("label",{className:"uk-form-label",htmlFor:"password"},"Password:"),l.a.createElement("div",{className:"uk-inline"},l.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: lock"}),l.a.createElement("input",{onChange:this.handleChange,id:"password",name:"password",className:"uk-input",type:"password",required:!0})))),e?l.a.createElement("div",{className:"uk-text-meta"},"Don't have an account?"," ",l.a.createElement(f.b,{className:"uk-text-primary",to:"/signup"},"Sign up")):null,l.a.createElement("button",{className:"uk-button uk-button-primary"},e?"Login":"Signup")))))}}]),t}(n.Component);_.contextType=O,_.contextType=O;var S=_;N.a.defaults.withCredentials=!0;N.a.defaults.withCredentials=!0;var I=function(e){return N.a.get("".concat(y,"/users/search?").concat(e))},T=t(36),D=function(e){var a=e.name,t=e.id,n=e.type,r=void 0===n?"text":n,c=e.handleChange,s=e.placeholder,i=e.value,m=void 0===i?"":i,u=Object(T.a)(e,["name","id","type","handleChange","placeholder","value"]);return l.a.createElement("div",{className:"uk-margin uk-text-left"},l.a.createElement("label",{className:"uk-form-label uk-text-capitalize uk-margin-left"},t,":"),l.a.createElement("div",{className:"uk-form-controls"},l.a.createElement("input",Object.assign({onChange:c,name:a,className:"uk-input",id:a,type:r,value:m,placeholder:s},u))))},A=function(e){var a=e.name,t=e.handleChange,n=e.hint,r=e.value;return l.a.createElement("div",{className:"uk-margin uk-text-left"},l.a.createElement("label",{className:"uk-form-label uk-text-capitalize uk-margin-left",htmlFor:a},a,":"),l.a.createElement("div",{className:"uk-form-controls"},l.a.createElement("textarea",{onChange:t,className:"uk-textarea",name:a,id:a,cols:"30",rows:"5",value:r,placeholder:n})))},q=function(e){Object(v.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={user:{},client:{}},e.handleChange=function(a){var t=e.state.client;t=Object(E.a)({},t,Object(k.a)({},a.target.name,a.target.value)),e.setState({client:t})},e.handleImagesChange=function(a){var t=e.state.client;t=Object(E.a)({},t,Object(k.a)({},a.target.name,a.target.value.split(","))),e.setState({client:t})},e.handleClick=function(){var a=e.state.client.email,t=e.state,n=t.user,l=t.client;I("email=".concat(a)).then((function(a){var t=a.data.result[0],r=t.name,c=t.last_name,s=t._id;n=Object(E.a)({},l,{name:r,last_name:c}),l={user:s},e.setState({user:n,client:l})}))},e.handleSubmit=function(a){a.preventDefault();e.state.client,e.props.history;console.log(e.state.client)},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this.state,a=e.user,t=e.client;return l.a.createElement("div",{className:"uk-modal-body"},l.a.createElement("div",{className:"uk-margin","uk-margin":"true"},l.a.createElement("input",{name:"email",className:"uk-input uk-form-width-medium",type:"text",value:t.email,placeholder:"Email address",onChange:this.handleChange}),l.a.createElement("button",{className:"uk-button uk-button-default uk-text-capitalize",onClick:this.handleClick},"Import user")),l.a.createElement("form",{className:"uk-width-2-3",onSubmit:this.handleSubmit},l.a.createElement("legend",{className:"uk-legend"},"New Client"),l.a.createElement(D,{name:"name",id:"Name",value:a.name,placeholder:"Client's name",handleChange:this.handleChange}),l.a.createElement(D,{name:"last_name",id:"Last name",value:a.last_name,placeholder:"Client's last name",handleChange:this.handleChange}),l.a.createElement(D,{name:"email",id:"Email",value:a.email,placeholder:"Client's email",handleChange:this.handleChange}),l.a.createElement(A,{name:"comments",value:t.comments,handleChange:this.handleChange}),l.a.createElement("button",{type:"submit",className:"uk-button uk-button-primary uk-text-capitalize"},"Create Client")))}}]),t}(n.Component);N.a.defaults.withCredentials=!0;var P=function(e){return N.a.post("".concat(y,"/transports"),e)},z=function(e){var a=e.images;return l.a.createElement("div",{className:"uk-padding-remove uk-position-relative uk-visible-toggle uk-light","uk-slideshow":"animation: fade;ratio: 2:2;max-height: 500"},l.a.createElement("ul",{className:"uk-slideshow-items"},a.map((function(e,a){return l.a.createElement("li",{key:a},l.a.createElement("img",{src:e,alt:"","uk-cover":"true"}))}))),l.a.createElement("a",{className:"uk-position-center-left uk-position-small uk-hidden-hover",href:"#","uk-slidenav-previous":"true","uk-slideshow-item":"previous"}),l.a.createElement("a",{className:"uk-position-center-right uk-position-small uk-hidden-hover",href:"#","uk-slidenav-next":"true","uk-slideshow-item":"next"}),l.a.createElement("div",{className:"uk-position-bottom-center uk-position-small"},l.a.createElement("ul",{className:"uk-dotnav"},a.map((function(e,a){return l.a.createElement("li",{key:a,"uk-slideshow-item":a},l.a.createElement("a",{href:"#"},"Item 1"))})))))},F=function(e){Object(v.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={transport:{}},e.handleChange=function(a){var t=e.state.transport;t=Object(E.a)({},t,Object(k.a)({},a.target.name,a.target.value)),e.setState({transport:t})},e.handleImagesChange=function(a){var t=e.state.transport;t=Object(E.a)({},t,Object(k.a)({},a.target.name,a.target.value.split(","))),e.setState({transport:t}),console.log("Images:",t.images)},e.handleSubmit=function(a){a.preventDefault();var t=e.state.transport,n=document.getElementById("servie_type").value,l=document.getElementById("vehicle_type").value;t=Object(E.a)({},t,{service_type:n,vehicle_type:l});var r=e.props.history;P(t).then((function(e){r.push("/")})).catch((function(e){return console.error(e.response)}))},e}return Object(d.a)(t,[{key:"render",value:function(){var e,a=this.state.transport;return l.a.createElement("div",{className:"uk-width-1-1 uk-margin-top"},l.a.createElement("h1",null,"TRANSPORTS"),l.a.createElement("div",{className:"form-new"},l.a.createElement("form",{className:"uk-width-1-2 form-border",onSubmit:this.handleSubmit},l.a.createElement("legend",{className:"uk-legend"},"New Transport"),l.a.createElement(D,{name:"name",id:"Route",value:a.name,handleChange:this.handleChange}),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("label",{className:"uk-form-label uk-text-capitalize"},"Servie Type:"),l.a.createElement("div",null,l.a.createElement("select",{className:"uk-select",name:"servie_type",id:"servie_type"},l.a.createElement("option",{value:a.servie_type},"Luxury"),l.a.createElement("option",{value:a.servie_type},"Standard")))),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("label",{className:"uk-form-label uk-text-capitalize"},"Vehicle Type:"),l.a.createElement("div",null,l.a.createElement("select",{className:"uk-select",name:"vehicle_type",id:"vehicle_type"},l.a.createElement("option",{value:a.vehicle_type},"Car"),l.a.createElement("option",{value:a.vehicle_type},"Van"),l.a.createElement("option",{value:a.vehicle_type},"Wagon")))),l.a.createElement(D,{name:"price",id:"Price",value:a.price,placeholder:"price per person",handleChange:this.handleChange}),l.a.createElement(A,{name:"images",value:null===(e=a.images)||void 0===e?void 0:e.join(","),handleChange:this.handleImagesChange,hint:"separate multiple images by commas"}),l.a.createElement(A,{name:"description",value:a.description,handleChange:this.handleChange}),l.a.createElement(A,{name:"comments",value:a.comments,handleChange:this.handleChange}),l.a.createElement("button",{type:"submit",className:"uk-button uk-button-primary uk-text-capitalize"},"Create Transport")),l.a.createElement("div",{className:"uk-width-1-2 uk-margin-left","uk-grid":"true"},l.a.createElement("div",null,l.a.createElement("div",{className:"uk-card uk-card-default"},l.a.createElement("div",{className:""},a?l.a.createElement("h3",{className:"uk-card-title"},a.name):null,a?Object.entries(a).map((function(e,a){return"images"===e[0]?null:l.a.createElement("div",{key:a,className:"uk-margin-left uk-margin-small uk-text-left"},l.a.createElement("b",{className:"uk-text-capitalize"},e[0],":")," ",e[1])})):null),l.a.createElement("div",{className:"uk-card-media-bottom"},l.a.createElement(z,{images:a.images?a.images:[]})))))))}}]),t}(n.Component);N.a.defaults.withCredentials=!0;var B=function(e){return N.a.post("".concat(y,"/inquiries"),e)},L=t(13),M=t.n(L),R=function(e){Object(v.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={inquiry:{}},e.handleChange=function(a){var t=e.state.inquiry;t=Object(E.a)({},t,Object(k.a)({},a.target.name,a.target.value)),e.setState({inquiry:t})},e.handleImagesChange=function(a){var t=e.state.inquiry;t=Object(E.a)({},t,Object(k.a)({},a.target.name,a.target.value.split(","))),e.setState({inquiry:t})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.inquiry,n=e.props.history;B(t).then((function(e){n.push("/")})).catch((function(e){return console.error(e.response)}))},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this.state.inquiry;return l.a.createElement("div",{className:"uk-modal-body"},l.a.createElement("form",{className:"uk-width-2-3",onSubmit:this.handleSubmit},l.a.createElement("legend",{className:"uk-legend"},"New Inquiry"),l.a.createElement(D,{name:"number_of_guests",type:"number",min:"1",value:e.guest_number,handleChange:this.handleChange,placeholder:"Guest number"}),l.a.createElement(D,{name:"initial_date",handleChange:this.handleChange,type:"date",value:M()(e.checkin).format("YYYY-MM-DD"),placeholder:"Start Date"}),l.a.createElement(D,{name:"final_date",type:"date",value:M()(e.checkout).format("YYYY-MM-DD"),handleChange:this.handleChange,placeholder:"End Date"}),l.a.createElement(D,{name:"interests",value:e.interests,placeholder:"Interests",handleChange:this.handleChange}),l.a.createElement(D,{name:"cities",value:e.cities,placeholder:"Cities",handleChange:this.handleChange}),l.a.createElement(A,{name:"comments",value:e.comments,handleChange:this.handleChange}),l.a.createElement("button",{type:"submit",className:"uk-button uk-button-primary uk-text-capitalize"},"Create Inquiry")))}}]),t}(n.Component);N.a.defaults.withCredentials=!0;N.a.defaults.withCredentials=!0;N.a.defaults.withCredentials=!0;var Y={experiences:function(e){return N.a.post("".concat(y,"/experiences"),e)},restaurants:function(e){return N.a.post("".concat(y,"/restaurants"),e)},hotels:function(e){return N.a.post("".concat(y,"/hotels"),e)}},U=function(e){Object(v.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={data:{}},e.handleChange=function(a){var t=e.state.data;t=Object(E.a)({},t,Object(k.a)({},a.target.name,a.target.value)),e.setState({data:t})},e.handleImagesChange=function(a){var t=e.state.data;t=Object(E.a)({},t,Object(k.a)({},a.target.name,a.target.value.split(","))),e.setState({data:t})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.data,n=e.props.history,l=e.props.match.path,r=l.split("/")[2];console.log("path:",l),Y[r](t).then((function(e){n.push("/")})).catch((function(e){return console.error(e.response)}))},e}return Object(d.a)(t,[{key:"render",value:function(){var e,a=this.state.data,t=this.props.match.path.split("/")[1];return l.a.createElement("div",{className:"uk-width-1-1 uk-margin-top"},l.a.createElement("h1",null,t.toUpperCase()),l.a.createElement("div",{className:"form-new"},l.a.createElement("form",{className:"uk-width-1-2 form-border",onSubmit:this.handleSubmit},l.a.createElement("legend",{className:"uk-legend uk-text-capitalize"},"New ",t.slice(0,-1)),l.a.createElement(D,{name:"name",id:"Name",value:a.name,handleChange:this.handleChange}),l.a.createElement(D,{name:"address",id:"Address",value:a.address,handleChange:this.handleChange}),l.a.createElement(D,{name:"city",id:"City",value:a.city,handleChange:this.handleChange}),l.a.createElement(D,{name:"type",id:"Type",value:a.type,handleChange:this.handleChange}),l.a.createElement(D,{name:"interests",id:"Interests",value:a.interests,handleChange:this.handleChange}),l.a.createElement(D,{name:"price",id:"Price",value:a.price,handleChange:this.handleChange}),"restaurants"===t?l.a.createElement("div",null,l.a.createElement(D,{name:"discount",id:"Discount",value:a.discount,handleChange:this.handleChange}),l.a.createElement(D,{name:"food_types",id:"Food type",value:a.food_types,handleChange:this.handleChange})):null,l.a.createElement(D,{name:"phone_numbers",id:"Phone Number",value:a.phone_numbers,handleChange:this.handleChange}),l.a.createElement(D,{name:"contacts",id:"Contacts",value:a.contacts,handleChange:this.handleChange}),l.a.createElement(A,{name:"images",value:null===(e=a.images)||void 0===e?void 0:e.join(","),handleChange:this.handleImagesChange,hint:"separate multiple images by commas"}),l.a.createElement(A,{name:"description",value:a.description,handleChange:this.handleChange}),l.a.createElement(A,{name:"comments",value:a.comments,handleChange:this.handleChange}),l.a.createElement("button",{type:"submit",className:"uk-button uk-button-primary uk-text-capitalize"},"Create ",t.slice(0,-1))),l.a.createElement("div",{className:"uk-width-1-2 uk-margin-left","uk-grid":"true"},l.a.createElement("div",null,l.a.createElement("div",{className:"uk-card uk-card-default"},l.a.createElement("div",{className:""},a?l.a.createElement("h3",{className:"uk-card-title"},a.name):null,a?Object.entries(a).filter((function(e){return"images"!==e[0]&&"phone_numbers"!==e[0]&&"name"!==e[0]})).map((function(e,a){return l.a.createElement("div",{key:a,className:"uk-margin-left uk-margin-small uk-text-left"},l.a.createElement("b",{className:"uk-text-capitalize"},e[0],":")," ",e[1])})):null),l.a.createElement("div",{className:"uk-card-media-bottom"},l.a.createElement(z,{images:a.images?a.images:[]})))))))}}]),t}(n.Component),W=function(e){return e.reduce((function(e,a){return Object(E.a)({},e,Object(k.a)({},a._id,a))}),{})},J=function(e){return Object.values(e)},H=function(e){Object(v.a)(t,e);var a=Object(p.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"uk-margin"},l.a.createElement("form",{className:"uk-search uk-search-default"},l.a.createElement("span",{"uk-search-icon":"true"}),l.a.createElement("input",{onChange:this.context.handleChange,className:"uk-search-input",type:"search",placeholder:"Search..."})))}}]),t}(n.Component);H.contextType=O;var V=H,G=t(17),$=t.n(G);t(32);M.a.extend($.a);var K=function(e){Object(v.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).handleClick=function(a){var t=e.props,n=t.setItem,l=t._id;a.preventDefault(),n(l)},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.images,t=void 0===a?[]:a,n=e.name,r=e.last_name,c=e.email,s=e.role,i=e.model,m=e.city,u=e.types,o=e.food_types,d=e.interests,h=e.price,p=e.service_type,v=e.transport_type,g=e.client,k=e.initial_date,E=e.final_date,f=e.status,b=this.handleClick;return l.a.createElement("div",{className:"uk-margin-small-left uk-margin-small-top uk-padding-remove uk-card uk-card-small uk-card-hover","uk-grid":"true"},l.a.createElement("div",{className:"uk-padding-remove uk-cover-container uk-card-media-left"},l.a.createElement(z,{images:t})),l.a.createElement("div",{className:"uk-padding-remove uk-margin-small uk-card-body uk-text-top",onClick:b},l.a.createElement("h3",{className:"uk-text-top uk-padding-remove uk-card-title"},n," ",r),l.a.createElement("div",{className:"uk-text-top"},function(){switch(i){case"userbase":case"clients":return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("b",null,"Email:")," ",c),l.a.createElement("div",null,l.a.createElement("b",null,"Role:")," ",s));case"hotels":return l.a.createElement("div",null,void 0===m?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"City:")," ",m),l.a.createElement("div",{className:"uk-margin-left uk-margin-small-top"},l.a.createElement("b",null,"Types:")," ",u),l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Interests:")," ",d),h<1?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Price:")," ",h));case"restaurants":return l.a.createElement("div",null,l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"City:")," ",m),l.a.createElement("div",{className:"uk-margin-left uk-margin-small-top"},l.a.createElement("b",null,"Types:")," ",u),l.a.createElement("div",{className:"uk-margin-left uk-margin-small-top"},l.a.createElement("b",null,"Food types:")," ",o),l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Interests:")," ",d),h<1?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Price:")," ",h));case"experiences":return l.a.createElement("div",null,void 0===m?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"City:")," ",m),l.a.createElement("div",{className:"uk-margin-left uk-margin-small-top"},l.a.createElement("b",null,"Types:")," ",u),l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Interests:")," ",d),h<1?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Price:")," ",h));case"transports":return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("b",null,"Service type:")," ",p),l.a.createElement("div",null,l.a.createElement("b",null,"Transport type:")," ",v),h<1?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Price:")," ",h));case"reservations":return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("b",null,"Client:")," ",g),l.a.createElement("div",null,"From ",k," to ",E),l.a.createElement("div",null,E-k," ",l.a.createElement("b",null,"days")),l.a.createElement("div",null,l.a.createElement("b",null,"Status:")," ",f))}}()),l.a.createElement("div",{className:"uk-card-footer"},l.a.createElement("a",{href:"#",className:"uk-button uk-button-text",onClick:b},"Read more"))))}}]),t}(n.Component),Q=function(e){Object(v.a)(t,e);var a=Object(p.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.base,t=e.user,n=e.model,r=e.setItem;return l.a.createElement("div",{className:"uk-grid uk-grid-small uk-child-width-expand@s uk-grid-match uk-child-width-1-3@l  uk-child-width-1-2@m uk-child-width-1-1@s"},J(a).map((function(e,a){return l.a.createElement(K,Object.assign({key:a},e,{userId:t._id,model:n,setItem:r}))})))}}]),t}(n.Component);N.a.defaults.withCredentials=!0;M.a.extend($.a);var X=function(e){Object(v.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).deleteItem=function(){var a=e.props,t=(a.model,a.item);(0,a.setItem)({}),console.log("boton de borrar ".concat(t))},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.images,t=void 0===a?[]:a,n=e.name,r=e.last_name,c=e.email,s=e.role,i=e.city,m=e.types,u=e.food_types,o=e.interests,d=e.price,h=e.service_type,p=e.transport_type,v=e.address,g=e.phone_numbers,k=e.description,E=e.comments,f=e.contacts,b=(e.initial_date,e.final_date,e.status,void 0===n);return l.a.createElement("div",{className:"uk-card uk-card-small","uk-grid":"true"},b?l.a.createElement("div",null,"Select one item on the left to see the detail"):l.a.createElement("div",null,l.a.createElement("div",{className:"uk-margin-small uk-card-body uk-text-top"},l.a.createElement("h3",{className:"uk-text-top uk-card-title"},n," ",r),l.a.createElement("div",null,l.a.createElement("div",{className:"uk-flex uk-flex-wrap uk-flex-wrap-around"},void 0===k?null:l.a.createElement("div",{className:"uk-margin-left uk-margin"},l.a.createElement("b",null,"Description:")," ",k),void 0===c?null:l.a.createElement("div",null,l.a.createElement("b",null,"Email:")," ",c),void 0===s?null:l.a.createElement("div",null,l.a.createElement("b",null,"Role:")," ",s),void 0===d||d<1?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Price:")," ",d),void 0===i?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"City:")," ",i),void 0===h?null:l.a.createElement("div",null,l.a.createElement("b",null,"Service type:")," ",h),void 0===p?null:l.a.createElement("div",null,l.a.createElement("b",null,"Transport type:")," ",p),void 0===m||m.length<1?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Types:")," ",m),void 0===u||u.length<1?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Food types:")," ",u),void 0===o||o.length<1?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Interests:")," ",o),void 0===v?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Address:")," ",v),void 0===E?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Comments:")," ",E),void 0===g||g.length<1?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Phone:")," ",g),void 0===f||f.length<1?null:l.a.createElement("div",{className:"uk-margin-left uk-margin-small"},l.a.createElement("b",null,"Contacts:")," ",f)))),l.a.createElement("div",null,l.a.createElement("button",{className:"uk-button uk-button-default uk-button-small uk-width-small"},"EDIT"),l.a.createElement("button",{className:"uk-button uk-button-danger uk-button-small uk-width-small","uk-toggle":"target: #delWarning"},"DELETE"),l.a.createElement("div",{id:"delWarning","uk-modal":"true"},l.a.createElement("div",{className:"uk-modal-dialog uk-modal-body"},l.a.createElement("h2",{className:"uk-modal-title"},"Warning!"),l.a.createElement("p",null,"Are you sure you want to delete? This action is irreversible!"),l.a.createElement("p",{className:"uk-text-right"},l.a.createElement("button",{className:"uk-button uk-button-default uk-modal-close",type:"button"},"CANCEL"),l.a.createElement("button",{className:"uk-button uk-button-danger uk-modal-close",type:"button",onClick:this.deleteItem},"DELETE"))))),l.a.createElement("div",{className:"uk-padding-remove uk-cover-container uk-margin"},l.a.createElement(z,{images:t}))))}}]),t}(n.Component),Z={restaurants:function(){return N.a.get("".concat(y,"/restaurants"))},hotels:function(){return N.a.get("".concat(y,"/hotels"))},clients:function(){return N.a.get("".concat(y,"/clients"))},userbase:function(){return N.a.get("".concat(y,"/users"))},experiences:function(){return N.a.get("".concat(y,"/experiences"))},transports:function(){return N.a.get("".concat(y,"/transports"))},reservations:function(){return N.a.get("".concat(y,"/reservations"))}},ee=function(e){Object(v.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={model:"",item:{}},e.setModel=function(a){e.setState({model:a})},e.setItem=function(a){e.setState({item:a})},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.context.state.user,t=this.context.setBase,n=this.props.match.params.model,l=this.props.history;a._id?Z[n]().then((function(a){var l=a.data.result,r=W(l);t(r),e.setModel(n)})):l.push("/login")}},{key:"componentWillReceiveProps",value:function(e){var a=this;if(e.match.params.model!==this.props.match.params.model){var t=this.context.state.user,n=this.context.setBase,l=e.match.params.model,r=this.props.history;t._id?Z[l]().then((function(e){var t=e.data.result,r=W(t);n(r),a.setModel(l)})):r.push("/login")}}},{key:"render",value:function(){var e=this.context.state,a=e.base,t=e.user,n=this.state,r=n.model,c=n.item,s=J(a).find((function(e){return e._id===c}));return l.a.createElement("div",null,l.a.createElement("h1",null,this.props.match.params.model.toUpperCase()),l.a.createElement(V,null),l.a.createElement("div",{className:"uk-flex uk-margin-left"},l.a.createElement("button",{className:"uk-button uk-button-default uk-button-small"},l.a.createElement(f.b,{className:"uk-link-reset",to:"/".concat(r,"/new")},"Add new ",r.slice(0,-1)))),l.a.createElement("div",{className:"uk-grid"},l.a.createElement("div",{className:"uk-margin-small-left uk-margin-small uk-width-1-2"},l.a.createElement(Q,{base:a,user:t,model:r,setItem:this.setItem})),l.a.createElement("div",{className:"uk-width-expand"},l.a.createElement(X,Object.assign({user:t,model:r},s,{item:c,setItem:this.setItem})))))}}]),t}(n.Component);ee.contextType=O;var ae=ee,te=function(){return l.a.createElement(g.c,null,l.a.createElement(g.a,{exact:!0,path:"/login",component:S}),l.a.createElement(g.a,{exact:!0,path:"/signup",component:S}),l.a.createElement(g.a,{exact:!0,path:"/hotels/new",component:U}),l.a.createElement(g.a,{exact:!0,path:"/clients/new",component:q}),l.a.createElement(g.a,{exact:!0,path:"/restaurants/new",component:U}),l.a.createElement(g.a,{exact:!0,path:"/experiences/new",component:U}),l.a.createElement(g.a,{exact:!0,path:"/transports/new",component:F}),l.a.createElement(g.a,{exact:!0,path:"/inquiries/new",component:R}),l.a.createElement(g.a,{exact:!0,path:"/reservations/new",component:U}),l.a.createElement(g.a,{exact:!0,path:"/collection/:model",component:ae}))},ne=function(e){var a=e.user,t=e.logout;return l.a.createElement("header",null,l.a.createElement("nav",{className:"uk-navbar-container","uk-navbar":"true"},l.a.createElement("div",{className:"uk-navbar-left"},l.a.createElement("ul",{className:"uk-navbar-nav"},l.a.createElement("li",{className:"uk-active"},l.a.createElement(f.b,{to:"/"},"Alambic")),l.a.createElement("li",{className:"uk-active"},l.a.createElement(f.b,{to:"/collection/reservations"},"Data Bases"),l.a.createElement("div",{className:"uk-navbar-dropdown"},l.a.createElement("ul",{className:"uk-nav uk-navbar-dropdown-nav"},l.a.createElement("li",null,l.a.createElement(f.b,{to:"/collection/clients"},"Clients")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/collection/hotels"},"Hotels")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/collection/restaurants"},"Restaurants")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/collection/experiences"},"Experiences")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/collection/transports"},"Transport")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/collection/userbase"},"Users"))))))),l.a.createElement("div",{className:"uk-navbar-right"},l.a.createElement("ul",{className:"uk-navbar-nav"},a._id?l.a.createElement("ul",{className:"uk-navbar-nav"},l.a.createElement("li",null,l.a.createElement(f.b,{to:"/profile"},l.a.createElement("div",{className:"uk-grid-small uk-flex-middle","uk-grid":"true"},l.a.createElement("div",{className:"uk-width-expand"},l.a.createElement("div",{className:"uk-margin-remove-bottom"},"Hi ",a.name,"!")))),l.a.createElement("div",{className:"uk-navbar-dropdown"},l.a.createElement("ul",{className:"uk-nav uk-navbar-dropdown-nav"},l.a.createElement("li",{onClick:t},"Logout"))))):l.a.createElement("li",null,l.a.createElement(f.b,{to:"/login"},"Login"))))))},le=function(e){Object(v.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={user:JSON.parse(localStorage.getItem("user"))||{},base:{},filtered:{}},e.setUser=function(a){e.setState({user:a})},e.setBase=function(a){e.setState({base:a})},e.setFiltered=function(a){e.setFiltered({filtered:a})},e.handleChange=function(a){var t=e.state;t.base,t.filtered,Object(h.a)(e).setFiltered},e.logout=function(){var a=e.props.history;w().then((function(){localStorage.removeItem("user"),e.setState({user:{}}),a.push("/login")}))},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this.state,a=this.setUser,t=this.logout,n=this.base,r=this.setBase,c=this.handleChange;return l.a.createElement(O.Provider,{value:{state:e,setUser:a,logout:t,base:n,setBase:r,handleChange:c}},l.a.createElement("div",{className:"App"},l.a.createElement(ne,{user:e.user,logout:t}),l.a.createElement(te,null)))}}]),t}(n.Component),re=Object(g.f)(le);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.use(u.a);var ce=function(){return l.a.createElement(f.a,null,l.a.createElement(re,null))};c.a.render(l.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.15527cb4.chunk.js.map