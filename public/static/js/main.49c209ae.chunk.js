(this["webpackJsonptravel-agent-front"]=this["webpackJsonptravel-agent-front"]||[]).push([[0],{32:function(e,a,t){e.exports=t(62)},37:function(e,a,t){},39:function(e,a,t){},62:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(28),c=t.n(l),o=(t(37),t(8)),s=t.n(o),i=(t(38),t(29)),u=t.n(i),m=t(9),p=t(10),d=t(12),h=t(13),v=(t(39),t(1)),k=t(11),f=t(30),g=t(5),E=t(7),b=t.n(E);b.a.defaults.withCredentials=!0;var N=function(e){return b.a.post("".concat("production.com","/login"),e)},w=function(e){return b.a.post("".concat("production.com","/signup"),e)},y=function(){return b.a.post("".concat("production.com","/logout"))},x=Object(n.createContext)(),C=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"check",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top-right";s.a.notification({message:"<span uk-icon='icon: ".concat(t,"'></span> ").concat(e),status:a,pos:n})},O=function(e){Object(h.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={user:{}},e.handleChange=function(a){var t=e.state.user;t=Object(f.a)({},t,Object(k.a)({},a.target.name,a.target.value)),e.setState({user:t})},e.handleSubmit=function(a){a.preventDefault();var t="/login"===e.props.location.pathname,n=e.context.setUser,r=e.state.user,l=t?N:w,c=e.props.history,o=t?"/":"/login";l(r).then((function(e){if(t){var a=e.data.user;localStorage.setItem("user",JSON.stringify(a)),n(a)}c.push(o)})).catch((function(e){console.log(e),C(e.response.data.msg,"danger","close")}))},e}return Object(p.a)(t,[{key:"render",value:function(){var e="/login"===this.props.location.pathname;return r.a.createElement("section",{className:"uk-section"},r.a.createElement("div",{className:"uk-container uk-flex uk-flex-center"},r.a.createElement("div",{className:"uk-width-1-4"},r.a.createElement("h3",null,e?"Login":"Signup"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"uk-width-1-1 uk-form-stacked uk-flex uk-flex-center uk-flex-column"},e?null:r.a.createElement("div",null,r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label",htmlFor:"name"},"Name:"),r.a.createElement("div",{className:"uk-inline"},r.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: user"}),r.a.createElement("input",{onChange:this.handleChange,id:"name",name:"name",className:"uk-input",type:"text",required:!0}))),r.a.createElement("div",null,r.a.createElement("label",{className:"uk-form-label",htmlFor:"last_name"},"Last name:"),r.a.createElement("div",{className:"uk-inline"},r.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: user"}),r.a.createElement("input",{onChange:this.handleChange,id:"last_name",name:"last_name",className:"uk-input",type:"text",required:!0})))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label",htmlFor:"email"},"Email:"),r.a.createElement("div",{className:"uk-inline"},r.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: mail"}),r.a.createElement("input",{onChange:this.handleChange,id:"email",name:"email",className:"uk-input",type:"email",required:!0})),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label",htmlFor:"password"},"Password:"),r.a.createElement("div",{className:"uk-inline"},r.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: lock"}),r.a.createElement("input",{onChange:this.handleChange,id:"password",name:"password",className:"uk-input",type:"password",required:!0})))),e?r.a.createElement("div",{className:"uk-text-meta"},"Don't have an account?"," ",r.a.createElement(g.b,{className:"uk-text-primary",to:"/signup"},"Sign up")):null,r.a.createElement("button",{className:"uk-button uk-button-primary"},e?"Login":"Signup")))))}}]),t}(n.Component);O.contextType=x;var S=O,j=function(){return r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/login",component:S}),r.a.createElement(v.a,{exact:!0,path:"/signup",component:S}))},L=function(e){var a=e.user,t=e.logout;return r.a.createElement("header",null,r.a.createElement("nav",{className:"uk-navbar-container","uk-navbar":"true"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-active"},r.a.createElement(g.b,{to:"/"},"Alambic")))),r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement("ul",{className:"uk-navbar-nav"},a._id?r.a.createElement("li",null,r.a.createElement(g.b,{to:"/profile"},r.a.createElement("div",{className:"uk-grid-small uk-flex-middle","uk-grid":"true"},r.a.createElement("div",{className:"uk-width-expand"},r.a.createElement("div",{className:"uk-margin-remove-bottom"},"Hi ",a.name,"!")))),r.a.createElement("div",{className:"uk-navbar-dropdown"},r.a.createElement("ul",{className:"uk-nav uk-navbar-dropdown-nav"},r.a.createElement("li",{onClick:t},"Logout")))):r.a.createElement("li",null,r.a.createElement(g.b,{to:"/login"},"Login"))))))},q=function(e){Object(h.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={user:JSON.parse(localStorage.getItem("user"))||{}},e.setUser=function(a){e.setState({user:a})},e.logout=function(){var a=e.props.history;y().then((function(){localStorage.removeItem("user"),e.setState({user:{}}),a.push("/login")}))},e}return Object(p.a)(t,[{key:"render",value:function(){var e=this.state,a=this.setUser,t=this.logout;return r.a.createElement(x.Provider,{value:{state:e,setUser:a,logout:t}},r.a.createElement("div",{className:"App"},r.a.createElement(L,{user:e.user,logout:t}),r.a.createElement(j,null)))}}]),t}(n.Component),A=Object(v.f)(q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.use(u.a);var F=function(){return r.a.createElement(g.a,null,r.a.createElement(A,null))};c.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.49c209ae.chunk.js.map